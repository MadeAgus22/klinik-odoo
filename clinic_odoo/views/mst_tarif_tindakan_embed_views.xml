<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <!-- View inline LIST untuk O2M mst.tarif.tindakan -->
    <record id="mst_tarif_tindakan_view_inline_list" model="ir.ui.view">
      <field name="name">mst.tarif.tindakan.inline.list</field>
      <field name="model">mst.tarif.tindakan</field>
      <field name="arch" type="xml">
        <list editable="bottom" string="Daftar Tarif">
          <field name="kode"        string="Kode Tarif"/>
          <field name="kelas_id"    string="Kelas"/>
          <field name="jasa_klinik"/>
          <field name="jasa_admin"/>
          <field name="jasa_operator"/>
          <field name="jasa_lainnya"/>
          <field name="total_tarif" readonly="1"/>
          <field name="date_start"  string="Tanggal Awal"/>
          <field name="date_end"    string="Tanggal Akhir"/>
          <field name="active"      string="Aktif"/>
          <field name="description" string="Catatan"/>
        </list>
      </field>
    </record>

    <!-- (Opsional) Inline FORM untuk popover -->
    <record id="mst_tarif_tindakan_view_inline_form" model="ir.ui.view">
      <field name="name">mst.tarif.tindakan.inline.form</field>
      <field name="model">mst.tarif.tindakan</field>
      <field name="arch" type="xml">
        <form string="Tarif Tindakan">
          <group>
            <field name="kode"/>
            <field name="kelas_id"/>
            <field name="active"/>
          </group>
          <group>
            <field name="jasa_klinik"/>
            <field name="jasa_admin"/>
            <field name="jasa_operator"/>
            <field name="jasa_lainnya"/>
            <field name="total_tarif" readonly="1"/>
          </group>
          <group>
            <field name="date_start"/>
            <field name="date_end"/>
          </group>
          <group>
            <field name="description"/>
          </group>
        </form>
      </field>
    </record>

    <!-- Inherit FORM Master Tindakan: tambah TAB "Tarif Tindakan" -->
    <record id="mst_produk_tindakan_form_inherit_tarif" model="ir.ui.view">
      <field name="name">mst.produk.tindakan.form.inherit.tarif</field>
      <field name="model">mst.produk.tindakan</field>
      <!-- Ganti ref ini bila External ID form tindakanmu berbeda -->
      <field name="inherit_id" ref="clinic_odoo.mst_produk_tindakan_view_form"/>
      <field name="arch" type="xml">
        <xpath expr="//sheet" position="inside">
          <notebook>
            <page string="Tarif Tindakan">
              <field name="tarif_ids"
                     mode="list,form"
                     context="{
                       'list_view_ref': 'clinic_odoo.mst_tarif_tindakan_view_inline_list',
                       'tree_view_ref': 'clinic_odoo.mst_tarif_tindakan_view_inline_list',
                       'form_view_ref': 'clinic_odoo.mst_tarif_tindakan_view_inline_form'
                     }"/>
            </page>
          </notebook>
        </xpath>
      </field>
    </record>

    <!-- Action/Menu -->
    <record id="mst_tarif_tindakan_product_action" model="ir.actions.act_window">
      <field name="name">Master Tarif Tindakan</field>
      <field name="res_model">mst.produk.tindakan</field>
      <field name="view_mode">list,form</field>
    </record>

    <menuitem id="menu_master_tarif" name="Master Tarif"
              parent="clinic_odoo.menu_bar_clinic" sequence="60"/>
    <menuitem id="menu_master_tarif_tindakan" name="Master Tarif Tindakan"
              parent="menu_master_tarif"
              action="mst_tarif_tindakan_product_action"
              sequence="10"/>

  </data>
</odoo>
