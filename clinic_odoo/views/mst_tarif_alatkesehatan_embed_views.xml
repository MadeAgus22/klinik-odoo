<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <!-- Inline LIST untuk O2M mst.tarif.alatkesehatan -->
    <record id="mst_tarif_alatkesehatan_view_inline_list" model="ir.ui.view">
      <field name="name">mst.tarif.alatkesehatan.inline.list</field>
      <field name="model">mst.tarif.alatkesehatan</field>
      <field name="arch" type="xml">
        <list editable="bottom" string="Daftar Tarif Alat Kesehatan">
          <field name="kode"        string="Kode Tarif"/>
          <field name="kelas_id"    string="Kelas"/>
          <field name="jasa_klinik"/>
          <field name="jasa_admin"/>
          <field name="jasa_operator"/>
          <field name="jasa_lainnya"/>
          <field name="total_tarif" readonly="1"/>
          <field name="date_start"  string="Tanggal Awal"/>
          <field name="date_end"    string="Tanggal Akhir"/>
          <field name="active"      string="Aktif"/>
          <field name="description" string="Catatan"/>
        </list>
      </field>
    </record>

    <!-- (Opsional) Inline FORM untuk popover baris -->
    <record id="mst_tarif_alatkesehatan_view_inline_form" model="ir.ui.view">
      <field name="name">mst.tarif.alatkesehatan.inline.form</field>
      <field name="model">mst.tarif.alatkesehatan</field>
      <field name="arch" type="xml">
        <form string="Tarif Alat Kesehatan">
          <group>
            <field name="kode"/>
            <field name="kelas_id"/>
            <field name="active"/>
          </group>
          <group>
            <field name="jasa_klinik"/>
            <field name="jasa_admin"/>
            <field name="jasa_operator"/>
            <field name="jasa_lainnya"/>
            <field name="total_tarif" readonly="1"/>
          </group>
          <group>
            <field name="date_start"/>
            <field name="date_end"/>
          </group>
          <group>
            <field name="description"/>
          </group>
        </form>
      </field>
    </record>

    <!-- Inherit FORM Master Alat Kesehatan: tambah tab "Tarif Alat Kesehatan" -->
    <record id="mst_produk_alatkesehatan_form_inherit_tarif" model="ir.ui.view">
      <field name="name">mst.produk.alatkesehatan.form.inherit.tarif</field>
      <field name="model">mst.produk.alatkesehatan</field>
      <!-- Ganti ref bila External ID form alat berbeda -->
      <field name="inherit_id" ref="clinic_odoo.mst_produk_alatkesehatan_view_form"/>
      <field name="arch" type="xml">
        <!-- Bila form punya <notebook>, idealnya sisip di situ. Di sini sisip ke <sheet> agar aman. -->
        <xpath expr="//sheet" position="inside">
          <notebook>
            <page string="Tarif Alat Kesehatan">
              <field name="tarif_ids"
                     mode="list,form"
                     context="{
                       'list_view_ref': 'clinic_odoo.mst_tarif_alatkesehatan_view_inline_list',
                       'tree_view_ref': 'clinic_odoo.mst_tarif_alatkesehatan_view_inline_list',
                       'form_view_ref': 'clinic_odoo.mst_tarif_alatkesehatan_view_inline_form'
                     }"/>
            </page>
          </notebook>
        </xpath>
      </field>
    </record>

    <!-- Action: menu Master Tarif Alat Kesehatan membuka daftar Master Alat -->
    <record id="mst_tarif_alatkesehatan_product_action" model="ir.actions.act_window">
      <field name="name">Master Tarif Alat Kesehatan</field>
      <field name="res_model">mst.produk.alatkesehatan</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- Submenu di bawah Master Tarif (parent “menu_master_tarif” sudah ada) -->
    <menuitem id="menu_master_tarif_alatkesehatan" name="Master Tarif Alat Kesehatan"
              parent="menu_master_tarif"
              action="mst_tarif_alatkesehatan_product_action"
              sequence="30"/>

  </data>
</odoo>
